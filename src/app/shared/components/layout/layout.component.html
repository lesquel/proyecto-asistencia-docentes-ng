<div class="flex h-screen">
  <!-- Sidebar -->
  <div
    class="fixed inset-0 z-40 flex flex-col w-64 bg-white border-r shadow-lg transform transition-transform duration-300 lg:static lg:translate-x-0"
    [class.-translate-x-full]="!drawerOpen">
    <div class="bg-blue-600 text-white text-lg font-semibold px-4 py-4">
      Menú
    </div>
    <nav class="flex-1 overflow-y-auto">
      <a *ngFor="let item of menuItems()" [routerLink]="item.route" (click)="toggleDrawer()"
        class="flex items-center px-4 py-3 text-gray-700 hover:bg-gray-100 transition-colors">
        <mat-icon class="mr-3 text-blue-500">{{ item.icon }}</mat-icon>
        <span>{{ item.label }}</span>
      </a>
    </nav>
  </div>

  <!-- Main content -->
  <div class="flex-1 flex flex-col overflow-hidden ml-0 lg:ml-64">
    <header class="flex items-center justify-between bg-blue-600 text-white px-4 py-3 shadow-md">
      <div class="flex items-center space-x-4">
        <button class="lg:hidden" type="button" (click)="toggleDrawer()" aria-label="Abrir menú">
          <mat-icon>menu</mat-icon>
        </button>
        <h1 class="text-lg font-semibold">{{ title() }}</h1>
      </div>

      <div class="flex items-center space-x-4">
        <span class="hidden sm:inline text-sm">{{ authService.currentUser()?.name }}</span>
        <button (click)="logout()" class="hover:bg-blue-700 p-2 rounded transition">
          <mat-icon>logout</mat-icon>
        </button>
      </div>
    </header>

    <main class="flex-1 overflow-y-auto p-4 bg-gray-50">
      <ng-content></ng-content>
    </main>
  </div>
</div>